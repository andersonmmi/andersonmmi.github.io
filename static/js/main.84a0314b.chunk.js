(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1063:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(49),c=a.n(i),l=(a(446),a(38)),s=a(50),u=a(40),d=a(39),m=a(41),p=a(1066),h=a(1008),g=a(1067),f=a(117),b=a(5),E=a.n(b),v=a(419),O=a(1068),w=a(1069),y=a(44),x=a(190),j=a.n(x),k=a(191),C=a.n(k),S=a(59),T=a.n(S),A=a(99),N=a.n(A),I=a(421),P=a.n(I),D=a(422),R=a.n(D),B=a(423),H=a.n(B),L=a(266),W=a.n(L),_=a(271),z=a.n(_),F=a(272),V=a.n(F),q=a(51),M={INVENTORY:"/",SALES_REPORT:"/sales-report",ADD:"/add",EDIT:"/edit"},U={PATH:M,PATH_TITLE:(n={},Object(q.a)(n,M.INVENTORY,"Inventory"),Object(q.a)(n,M.SALES_REPORT,"Sales Report"),Object(q.a)(n,M.ADD,"Add"),Object(q.a)(n,M.EDIT,"Edit"),n)},Y=a(67),$=a.n(Y),G=a(119),J=a(152),Q=a.n(J);function X(){return(X=Object(G.a)($.a.mark(function e(t){var a,n,r,o,i,c;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,n=t.amount,r=Q.a.create("browser"),e.next=4,r.authenticate();case 4:return i=r.service("token").getToken("DAI"),e.next=7,i.balanceOf(a);case 7:return o=e.sent,console.log(o.toString()),e.prev=9,e.next=12,i.transfer(a,n);case 12:c=e.sent,console.log("tx",c._state),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),console.error(e.t0);case 19:return e.next=21,i.balanceOf(a);case 21:o=e.sent,console.log(o.toString());case 23:case"end":return e.stop()}},e,this,[[9,16]])}))).apply(this,arguments)}function K(){return(K=Object(G.a)($.a.mark(function e(){var t,a,n;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Q.a.create("browser"),e.next=3,t.authenticate();case 3:return a=t.service("token").getToken("DAI"),e.next=6,a._web3.eth.getAccounts();case 6:return n=e.sent,e.next=9,a.balanceOf(n[0]);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Z={send:function(e){return X.apply(this,arguments)},getBalance:function(){return K.apply(this,arguments)}},ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.getTitle=function(){return U.PATH_TITLE[a.props.location.pathname]},a.updateBalance=function(){Z.getBalance().then(function(e){return a.setState({balance:e.toString()})})},a.state={open:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){setInterval(this.updateBalance,1e3)}},{key:"render",value:function(){var e=this.props.classes,t=this.state.open;return console.log(this.props.location),o.a.createElement("div",{className:e.root},o.a.createElement(j.a,{id:3,position:"static"},o.a.createElement(C.a,{id:201},o.a.createElement(N.a,{id:202,className:e.menuButton,color:"inherit","aria-label":"Menu"},o.a.createElement(P.a,{onClick:this.handleDrawerOpen,className:E()(e.menuButton,t&&e.hide)})),o.a.createElement(T.a,{variant:"h6",color:"inherit",className:e.grow},this.getTitle()),o.a.createElement(T.a,{variant:"h6",color:"inherit",className:e.balance},this.state.balance||""))),o.a.createElement(R.a,{id:204,className:e.drawer,variant:"persistent",anchor:"left",open:t,onClose:this.handleDrawerClose,onOpen:this.handleDrawerOpen,classes:{paper:e.drawerPaper}},o.a.createElement("div",{id:45,className:e.drawerHeader},o.a.createElement(N.a,{onClick:this.handleDrawerClose},o.a.createElement(H.a,null))),o.a.createElement(W.a,{id:205},o.a.createElement(z.a,{button:!0,component:O.a,to:U.PATH.INVENTORY,onClick:this.handleDrawerClose},o.a.createElement(V.a,{primary:U.PATH_TITLE[U.PATH.INVENTORY]})),o.a.createElement(z.a,{button:!0,component:O.a,to:U.PATH.SALES_REPORT,onClick:this.handleDrawerClose},o.a.createElement(V.a,{primary:U.PATH_TITLE[U.PATH.SALES_REPORT]})))))}}]),t}(o.a.Component),te=Object(v.a)(Object(y.withStyles)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(200,"px)"),marginLeft:200,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{},hide:{display:"none"},drawer:{flexShrink:0},drawerPaper:{width:200},drawerHeader:Object(f.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-200},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},grow:{flexGrow:1},balance:{left:100},widthClear:{width:0}}},{withTheme:!0}),w.a)(ee),ae=a(150),ne=a.n(ae),re=a(118),oe=a(88),ie=a.n(oe),ce=a(194),le=a.n(ce),se=a(195),ue=a.n(se),de=a(268),me=a.n(de),pe=a(196),he=a.n(pe),ge=a(427),fe=a.n(ge);var be=Object(y.withStyles)(function(e){return{badge:{zIndex:2,top:-35,right:-35,border:"2px solid ".concat("light"===e.palette.type?e.palette.grey[200]:e.palette.grey[900])}}})(function(e){var t=e.classes;return o.a.createElement(fe.a,{badgeContent:e.badgeContent,color:"primary",classes:{badge:t.badge}})}),Ee=a(428),ve=a.n(Ee);var Oe=Object(y.withStyles)({root:{},card:{width:"50%",height:250,maxWidth:250,backgroundColor:"transparent"},media:{position:"absolute",zIndex:-1,height:250,width:250,maxWidth:250,top:0},content:{zIndex:0,position:"relative",top:123,color:"white",fontWeight:"bold"},button:{zIndex:1,width:"100%",height:"100%"}})(function(e){var t=e.classes;return o.a.createElement(le.a,{className:t.card},o.a.createElement(ie.a,{onClick:e.onClick,style:{flex:1}},o.a.createElement(be,{badgeContent:e.count}),o.a.createElement(ue.a,{className:t.button},o.a.createElement(he.a,{className:t.media,image:e.photo||ve.a,alt:e.photo}),o.a.createElement(me.a,{className:t.content},o.a.createElement(T.a,{gutterBottom:!0,variant:"h5",component:"h2",color:"inherit"},e.name),o.a.createElement(T.a,{component:"p",color:"inherit"},e.name," cost ",e.price," DAI")))))}),we=a(429),ye=a.n(we);var xe=Object(y.withStyles)({card:{backgroundColor:"cornsilk",width:"50%",height:250,maxWidth:250},media:{height:250}})(function(e){var t=e.classes;return o.a.createElement(le.a,{className:t.card},o.a.createElement(ue.a,{component:O.a,to:U.PATH.ADD},o.a.createElement(he.a,{className:t.media,image:ye.a,title:"Add Item"})))}),je=a(431),ke=a.n(je),Ce=a(432),Se=a.n(Ce),Te=a(265),Ae=a.n(Te),Ne=a(430),Ie=a.n(Ne);var Pe={generate:function(e){return new Ie.a({background:"white",foreground:"blue",foregroundAlpha:.8,level:"H",padding:25,size:5e3,value:e}).toDataURL("image/jpeg")}};function De(e){return o.a.createElement(Ae.a,Object.assign({direction:"up"},e))}var Re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,url:null},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1}),a.props.onClose()},a.getImage=function(){var e=Pe.generate(a.state.url);return"url(".concat(e,")")},a.componentDidUpdate=function(e){a.props.url&&!e.url&&a.setState({open:!0,url:a.props.url})},a.render=function(){var e=a.props.classes;return o.a.createElement(ke.a,{fullScreen:!0,open:a.state.open,onClose:a.handleClose,TransitionComponent:De},o.a.createElement(j.a,{className:e.appBar},o.a.createElement(C.a,null,o.a.createElement(N.a,{color:"inherit",onClick:a.handleClose,"aria-label":"Close"},o.a.createElement(Se.a,null)),o.a.createElement(T.a,{variant:"h6",color:"inherit",className:e.flex},"Scan to Pay"))),o.a.createElement("div",{className:e.root},o.a.createElement(ie.a,{onClick:a.handleClose,focusRipple:!0,className:e.image,focusVisibleClassName:e.focusVisible,style:{flex:1}},o.a.createElement("span",{className:e.imageSrc,style:{flex:1,backgroundImage:a.getImage(),backgroundSize:"contain",backgroundRepeat:"no-repeat"}}))))},a}return Object(m.a)(t,e),t}(o.a.Component),Be=Object(y.withStyles)(function(e){var t;return{appBar:{position:"relative"},flex:{flex:1},root:{display:"flex",flex:1,flexWrap:"wrap",minWidth:300,width:"100%",height:"100%"},image:(t={position:"relative",height:"100%"},Object(q.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:"100%"}),Object(q.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(2*e.spacing.unit,"px ").concat(4*e.spacing.unit,"px ").concat(e.spacing.unit+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}})(Re),He=function(e){return e.items},Le=He,We="andersonmmi.github.io",_e="https://get.status.im/browse/",ze=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.componentWillMount=function(){a.loadAddress()},a.getAddressFromWeb3=Object(G.a)($.a.mark(function e(){var t,a,n;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Q.a.create("browser"),e.next=3,t.authenticate();case 3:return a=t.service("token").getToken("DAI"),console.log(a.toString()),e.next=7,a._web3.eth.getAccounts();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),a.loadAddress=Object(G.a)($.a.mark(function e(){var t;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getAddressFromWeb3();case 2:t=e.sent,console.log({accounts:t}),a.setState({address:t[0]});case 5:case"end":return e.stop()}},e,this)})),a.handleItemClick=function(e){console.log({item:e});var t="".concat(_e).concat(We,"/#/payment/").concat(a.state.address,"/").concat(e.price);a.setState({qrUrl:t})},a.handleCloseDialog=function(){a.setState({qrUrl:null})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log("items:",this.props.items),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",flex:1,flexDirection:"row"}},ne.a.map(this.props.items,function(t,a){return o.a.createElement(Oe,Object.assign({key:a},t,{onClick:function(){return e.handleItemClick(t)}}))}),o.a.createElement(xe,null),o.a.createElement(Be,{url:this.state.qrUrl,onClose:function(){return e.setState({qrUrl:null})}}))}}]),t}(o.a.PureComponent),Fe=Object(re.b)(function(e){return{items:Le(e)}})(ze),Ve=a(433),qe=a.n(Ve),Me=a(435),Ue=a.n(Me),Ye=a(100),$e=a.n(Ye),Ge=a(434),Je=a.n(Ge),Qe=a(274),Xe=a.n(Qe),Ke=a(97),Ze=a.n(Ke),et=0;function tt(e,t,a){return{id:et+=1,name:e,units:t,sales:a}}var at=[tt("Lizards",4,60),tt("Cupcakes",12,24),tt("Shovels",3,39.97),tt("Special Favors",1,100),tt("Taxation is theft",1,3.14),tt("#FreeRoss",100,530.9)];var nt=Object(y.withStyles)(function(e){return{root:{width:"100%",maxWidth:"400",marginTop:1*e.spacing.unit,overflowX:"auto",padding:"none"},table:{minWidth:0,maxWidth:"100%",padding:"none"}}})(function(e){var t=e.classes;return o.a.createElement(Ze.a,{className:t.root},o.a.createElement(qe.a,{className:t.table},o.a.createElement(Je.a,null,o.a.createElement(Xe.a,null,o.a.createElement($e.a,null,"Item"),o.a.createElement($e.a,null,"Units Sold"),o.a.createElement($e.a,null,"Gross Sales"))),o.a.createElement(Ue.a,null,at.map(function(e){return o.a.createElement(Xe.a,{key:e.id},o.a.createElement($e.a,{component:"th",scope:"row"},e.name),o.a.createElement($e.a,null,e.units),o.a.createElement($e.a,null,e.sales))}))))}),rt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(nt,null))}}]),t}(o.a.PureComponent),ot=a(154),it=a.n(ot),ct=a(153),lt=a.n(ct),st=a(269),ut=a.n(st),dt=a(75),mt=a(436),pt=a.n(mt),ht=a(437),gt=a.n(ht),ft=a(275),bt=a.n(ft),Et=(a(1026),"ADD_ITEM"),vt=0,Ot={add:function(e){var t=e.name,a=e.photo,n=e.soldCount,r=e.count,o=e.price;return{type:Et,payload:{id:++vt,name:t,photo:a,soldCount:n,count:r,price:o}}}},wt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",picture:"",quantity:"",price:""},a.handleChange=function(e){return function(t){a.setState(Object(q.a)({},e,t.target.value))}},a.handleSave=function(){""===a.state.name||""===a.state.quantity||""===a.state.price?(alert("No changes saved."),console.log("Leaving!")):a.props.dispatch(Ot.add({name:a.state.name,count:a.state.quantity,price:a.state.price,photo:a.state.picture}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onTakePhoto",value:function(e){this.setState({picture:e}),console.log("takePhoto")}},{key:"onCameraError",value:function(e){console.error("onCameraError",e)}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(lt.a,{id:"outlined-adornment-item-name",className:E()(t.margin,t.textField),variant:"outlined",label:"Item Name",value:this.state.name,onChange:this.handleChange("name"),InputProps:{startAdornment:o.a.createElement(it.a,{position:"start"},"Item")}}),o.a.createElement(bt.a,{onTakePhoto:function(t){e.onTakePhoto(t)},onCameraError:function(t){e.onCameraError(t)},idealFacingMode:ft.FACING_MODES.ENVIRONMENT}),o.a.createElement(lt.a,{id:"outlined-adornment-picture",className:E()(t.margin,t.textField),variant:"outlined",label:"Picture (optional)",value:this.state.picture,InputProps:{startAdornment:o.a.createElement(it.a,{position:"start"},o.a.createElement(pt.a,null,o.a.createElement(gt.a,null)))}}),o.a.createElement(lt.a,{id:"outlined-adornment-price",className:E()(t.margin,t.textField),variant:"outlined",label:"Price",value:this.state.price,onChange:this.handleChange("price"),InputProps:{startAdornment:o.a.createElement(it.a,{position:"start"},"$")}}),o.a.createElement(lt.a,{id:"outlined-adornment-quantity",className:E()(t.margin,t.textField),variant:"outlined",label:"Quantity",value:this.state.quantity,onChange:this.handleChange("quantity"),InputProps:{startAdornment:o.a.createElement(it.a,{position:"start"},"#")}}),o.a.createElement(ut.a,{size:"large",className:E()(t.button),onClick:this.handleSave,component:O.a,to:U.PATH.INVENTORY},"Save"))}}]),t}(o.a.Component),yt=Object(dt.d)(Object(y.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing.unit},textField:{flexBasis:200,backgroundColor:"cornsilk"},button:{backgroundColor:"seashell",borderBottom:"solid 3px black",borderLeft:"solid 3px darkgrey",borderRight:"solid 3px darkgrey",borderTop:"solid 3px lightgrey"}}}),Object(re.b)())(wt),xt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"I","'","m the add scene!"),o.a.createElement(yt,null))}}]),t}(o.a.PureComponent),jt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentWillMount=function(){var e=a.props.match.params,t=e.address,n=e.amount;Z.send({address:t,amount:n})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"Loading..."),o.a.createElement("pre",null))}}]),t}(o.a.PureComponent),kt={backgroundColor:"cornflowerblue"},Ct=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App",style:kt},o.a.createElement(p.a,{basename:"",id:110},o.a.createElement("div",{id:"a"},o.a.createElement(te,{id:98}),o.a.createElement(g.a,{id:109},o.a.createElement(h.a,{exact:!0,path:U.PATH.INVENTORY,component:Fe,id:105}),o.a.createElement(h.a,{exact:!0,path:U.PATH.SALES_REPORT,component:rt,id:106}),o.a.createElement(h.a,{exact:!0,path:U.PATH.ADD,component:xt,id:107}),o.a.createElement(h.a,{exact:!0,path:U.PATH.EDIT,component:xt,id:121}),o.a.createElement(h.a,{path:"/payment/:address/:amount/",component:jt,id:108})))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=a(438),Tt=a.n(St),At=a(439),Nt={},It=Object(dt.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:var a=t.payload,n=a.id,r=Object(At.a)(a,["id"]);return Object(f.a)({},e,Object(q.a)({},n,r));default:return e}}});var Pt={loadState:function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}},saveState:function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}},Dt=Pt.loadState(),Rt=Object(dt.e)(It,Dt,Object(dt.a)(Tt.a));Rt.subscribe(function(){Pt.saveState(Rt.getState())});var Bt=Rt;c.a.render(o.a.createElement(re.a,{store:Bt},o.a.createElement(Ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},428:function(e,t,a){e.exports=a.p+"static/media/contemplativeLizard.34dfeed2.jpg"},429:function(e,t,a){e.exports=a.p+"static/media/plus.8d8108b2.svg"},441:function(e,t,a){e.exports=a(1063)},446:function(e,t,a){},522:function(e,t){},524:function(e,t){},544:function(e,t){},547:function(e,t){},634:function(e,t){},783:function(e,t){},785:function(e,t){}},[[441,2,1]]]);
//# sourceMappingURL=main.84a0314b.chunk.js.map